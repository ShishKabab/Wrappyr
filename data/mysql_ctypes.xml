<ctypes>
	<package name="_MySQLdb">
		<library name="mysql" path="libmysqlclient.so" default="true" />

		<function name="get_client_info">
			<call symbol="mysql_get_client_info">
				<returns>ctypes.c_char_p</returns>
			</call>
		</function>

		<class name="Connection">
			<method name="__init__">
				<call symbol="mysql_init">
					<argument name="other" type="ctypes.c_void_p" />
				</call>
			</method>

			<!--<method name="__del__">
				<raw>self.close()</raw>
			</method>-->

			<method name="connect" guard="call_once">
				<call symbol="mysql_real_connect">
					<argument name="host" type="ctypes.c_char_p" default="None" />
					<argument name="user" type="ctypes.c_char_p" default="None" />
					<argument name="passw" type="ctypes.c_char_p" default="None" />
					<argument name="db" type="ctypes.c_char_p" default="None" />
					<argument name="port" type="ctypes.c_uint" default="0" />
					<argument name="unix_socket" type="ctypes.c_char_p" default="None" />
					<argument name="client_flag" type="ctypes.c_ulong" default="0" />
				</call>
			</method>

			<method name="query">
				<call symbol="mysql_query">
					<argument name="statement" type="ctypes.c_char_p" />
				</call>
			</method>

			<method name="get_result">
				<call symbol="mysql_use_result">
					<returns type="_MySQLdb.Result" />
				</call>
			</method>

			<method name="get_error">
				<call symbol="mysql_error">
					<returns type="ctypes.c_char_p" />
				</call>
			</method>

			<method name="close" guard="call_once">
				<call symbol="mysql_close" />
			</method>
		</class>

		<class name="Result">
			<method name="__del__">
				<call symbol="mysql_free_result" />
			</method>

			<method name="fetch_row">
				<call symbol="mysql_fetch_row">
					<returns type="_MySQLdb.Result.Row" />
				</call>
			</method>
			<pointer name="Row" type="ctypes.c_char_p" array="true" />
		</class>
	</package>
</ctypes>
